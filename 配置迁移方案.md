# 配置迁移方案（导出/导入 + 便携预留）

## 目标
- 换机时快速恢复配置与关键路径
- 控制敏感信息暴露风险
- 保持向后兼容与可追溯

## 导出包结构（建议）
```
screen-analyzer-config.json
```

示例结构：
```
{
  "version": 1,
  "exported_at": "2025-01-15T12:00:00Z",
  "app_config": { ... },
  "include_secrets": false,
  "notes": "仅导出非敏感配置"
}
```

## 敏感信息处理
- 默认不导出 API Key/Token
- 若用户勾选“包含敏感信息”，需二次确认
- 导入时优先提示用户重新输入密钥

## 导入流程
1. 选择配置文件
2. 校验版本与字段完整性
3. 应用配置并提示重启
4. 写入操作记录（时间、来源、变更摘要）

## 便携模式（预留）
- 允许将配置写入用户指定目录（例如 Vault 内的 `.screen-analyzer/`）
- 便携模式优先级高于系统配置目录
- 支持一键切换与回滚

## 版本与兼容
- 通过 `version` 字段进行向后兼容
- 新字段必须有默认值或迁移逻辑
